{"ast":null,"code":"var _jsxFileName = \"/home/desa04/AE-Front-End/src/fragments/FileUploadFragment.jsx\",\n  _s = $RefreshSig$();\nimport Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport React, { useState } from \"react\";\nimport { useFileUploadSectionString } from \"../contexts/TextProvider.jsx\";\nimport { shortFileName } from \"../utiles.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUploadSection = () => {\n  _s();\n  const labels = useFileUploadSectionString();\n  const [selectedFiles, setSelectedFiles] = useState([]);\n  const [isButtonDisabled, setButtonDisabled] = useState(false);\n  const handleFileChange = event => {\n    const files = event.target.files;\n    const selectedFilesArray = [];\n\n    // Limitar la cantidad de archivos a 2\n    for (let i = 0; i < Math.min(files.length, 2); i++) {\n      selectedFilesArray.push(files[i]);\n    }\n    setSelectedFiles([...selectedFiles, ...selectedFilesArray]);\n\n    // Deshabilitar el botón si se alcanza la cantidad máxima\n    setButtonDisabled(selectedFilesArray.length + selectedFiles.length >= 2);\n  };\n  const handleRemoveFile = index => {\n    const updatedFiles = [...selectedFiles];\n    updatedFiles.splice(index, 1);\n    setSelectedFiles(updatedFiles);\n\n    // Habilitar el botón cuando se elimina un archivo\n    setButtonDisabled(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Box, {\n    children: [/*#__PURE__*/_jsxDEV(TextField, {\n      fullWidth: true,\n      id: \"fileInput\",\n      label: labels.label,\n      type: \"file\",\n      InputLabelProps: {\n        shrink: true\n      },\n      variant: \"outlined\",\n      accept: \"image/*\",\n      multiple: true,\n      disabled: isButtonDisabled,\n      onChange: handleFileChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), selectedFiles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: labels.selected_label\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: selectedFiles.map((file, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [shortFileName(file.name), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => handleRemoveFile(index),\n            children: labels.selected_delete\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 33\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(FileUploadSection, \"vd5bOrxd82uhTjXgonSu0HLk3TE=\", false, function () {\n  return [useFileUploadSectionString];\n});\n_c = FileUploadSection;\nexport default FileUploadSection;\nvar _c;\n$RefreshReg$(_c, \"FileUploadSection\");","map":{"version":3,"names":["Box","Button","TextField","React","useState","useFileUploadSectionString","shortFileName","jsxDEV","_jsxDEV","FileUploadSection","_s","labels","selectedFiles","setSelectedFiles","isButtonDisabled","setButtonDisabled","handleFileChange","event","files","target","selectedFilesArray","i","Math","min","length","push","handleRemoveFile","index","updatedFiles","splice","children","fullWidth","id","label","type","InputLabelProps","shrink","variant","accept","multiple","disabled","onChange","fileName","_jsxFileName","lineNumber","columnNumber","selected_label","map","file","name","onClick","selected_delete","_c","$RefreshReg$"],"sources":["/home/desa04/AE-Front-End/src/fragments/FileUploadFragment.jsx"],"sourcesContent":["import Box from \"@mui/material/Box\";\nimport Button from \"@mui/material/Button\";\nimport TextField from \"@mui/material/TextField\";\nimport React, { useState } from \"react\";\nimport { useFileUploadSectionString } from \"../contexts/TextProvider.jsx\";\nimport { shortFileName } from \"../utiles.js\";\nconst FileUploadSection = () => {\n    const labels = useFileUploadSectionString();\n    const [selectedFiles, setSelectedFiles] = useState([]);\n    const [isButtonDisabled, setButtonDisabled] = useState(false);\n\n    const handleFileChange = (event) => {\n        const files = event.target.files;\n        const selectedFilesArray = [];\n\n        // Limitar la cantidad de archivos a 2\n        for (let i = 0; i < Math.min(files.length, 2); i++) {\n            selectedFilesArray.push(files[i]);\n        }\n\n        setSelectedFiles([...selectedFiles, ...selectedFilesArray]);\n\n        // Deshabilitar el botón si se alcanza la cantidad máxima\n        setButtonDisabled(\n            selectedFilesArray.length + selectedFiles.length >= 2\n        );\n    };\n\n    const handleRemoveFile = (index) => {\n        const updatedFiles = [...selectedFiles];\n        updatedFiles.splice(index, 1);\n        setSelectedFiles(updatedFiles);\n\n        // Habilitar el botón cuando se elimina un archivo\n        setButtonDisabled(false);\n    };\n\n    return (\n        <Box>\n            <TextField\n                fullWidth\n                id=\"fileInput\"\n                label={labels.label}\n                type=\"file\"\n                InputLabelProps={{ shrink: true }}\n                variant=\"outlined\"\n                accept=\"image/*\"\n                multiple\n                disabled={isButtonDisabled}\n                onChange={handleFileChange}\n            />\n            {selectedFiles.length > 0 && (\n                <div>\n                    <p>{labels.selected_label}</p>\n                    <ul>\n                        {selectedFiles.map((file, index) => (\n                            <li key={index}>\n                                {shortFileName(file.name)}\n                                <Button onClick={() => handleRemoveFile(index)}>\n                                    {labels.selected_delete}\n                                </Button>\n                            </li>\n                        ))}\n                    </ul>\n                </div>\n            )}\n        </Box>\n    );\n};\n\nexport default FileUploadSection;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}